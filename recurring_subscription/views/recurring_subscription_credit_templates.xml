<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="credit_data" name="Subscription Credit Details">
        <t t-call="portal.portal_layout">
            <div>
                <h2>
                    <center>
                        <span>Credit</span>
                    </center>
                </h2>
            </div>
            <table class="table table-striped">
                <thead style="font-size:23px">
                    <tr>
                        <th>Subscription</th>
                        <th>Customer</th>
                        <th>Credit Amount</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>State</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="record" t-as="rec">
                        <tr>
                            <td>
                                <span t-field="rec.subscription_id"/>
                            </td>
                            <td>
                                <span t-field="rec.partner_id"/>
                            </td>
                            <td>
                                <span t-field="rec.credit_amount"/>
                            </td>
                            <td>
                                <span t-field="rec.start_date"/>
                            </td>
                            <td>
                                <span t-field="rec.end_date"/>
                            </td>
                            <td>
                                <span t-field="rec.state"/>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
            <a href="/rec-subscription/credit/new">
                <button class="btn-primary form-control">Create</button>
            </a>
        </t>
    </template>
    <template id="credit_form" name="Credit Form">
        <t t-call="website.layout">
            <t t-set="subscriptions"
               t-value="request.env['recurring.subscription'].sudo().search([])"/>
            <div class="container">
                <form action="/rec-subscription/credit/create" method="post">
                    <br/>
                    <br/>
                    <div class="form-group">
                        <select name="subscription_id" class="form-control" >
                            <t t-foreach="subscriptions" t-as="subscription">
                                <option t-att-value="subscription.id"
                                        t-esc="subscription.order"/>
                            </t>
                        </select>
                    </div>
                    <br/>
                    <div class="form-group">
                        <input name="credit_amount" type="number" step="0.01" placeholder="Credit Amount" class="form-control"/>
                    </div>
                    <br/>
                    <div class="form-group">
                        <input name="start_date" type="date" class="form-control s_website_form_date" data-date-format="yyyy-MM-dd" required="True"/>
                    </div>
                    <div class="form-group">
                        <input name="end_date" type="date" class="form-control s_website_form_date" data-date-format="yyyy-MM-dd" required="True"/>
                    </div>
                    <br/>
                    <!--                    <div class="form-group">-->
                    <!--                        <input type="text" class="form-control" name="price" data-fill-with="price"/>-->
                    <!--                    </div>-->
                    <br/>
                    <div class="form-group">
                        <button class="form-control btn btn-primary"
                                type="submit">Create
                        </button>
                    </div>
                </form>
            </div>
        </t>
    </template>
</odoo>